{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport PostLink from './PostLink';\n\nvar ArticleList = function ArticleList(_ref) {\n  var articleIDs = _ref.articleIDs;\n  var bufferSize = 50; // loads 50 articles at a time\n\n  var _useState = useState(0),\n      currentListIdx = _useState[0],\n      setCurrentListIdx = _useState[1];\n\n  var _useState2 = useState([]),\n      articles = _useState2[0],\n      setArticles = _useState2[1];\n\n  var _useState3 = useState(undefined),\n      err = _useState3[0],\n      setErr = _useState3[1];\n\n  useEffect(function () {\n    articleIDs.slice(currentListIdx, currentListIdx + bufferSize).map(function (id) {\n      return fetch(\"https://hacker-news.firebaseio.com/v0/item/\".concat(id, \".json?print=pretty\")).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        return setArticles(function (prev) {\n          return [].concat(_toConsumableArray(prev), [res]);\n        });\n      })[\"catch\"](function (e) {\n        return setErr(e.message);\n      });\n    });\n  }, [currentListIdx]);\n\n  if (err) {\n    return __jsx(\"div\", null, '--- Error Occurred ---');\n  }\n\n  if (articles.length === 0) {\n    return __jsx(\"div\", null, '--- Loading ---');\n  }\n\n  return __jsx(\"div\", {\n    className: \"jsx-1989883731\"\n  }, __jsx(\"ul\", {\n    className: \"jsx-1989883731\"\n  }, articles.map(function (article) {\n    return __jsx(PostLink, {\n      post: article\n    });\n  })), __jsx(\"button\", {\n    type: \"button\",\n    onClick: function onClick() {\n      return setCurrentListIdx(function (prev) {\n        return prev + bufferSize;\n      });\n    },\n    className: \"jsx-1989883731\"\n  }, __jsx(\"p\", {\n    className: \"jsx-1989883731\"\n  }, \"Load more...\")), __jsx(_JSXStyle, {\n    id: \"1989883731\"\n  }, [\"h1,a{font-family:'Arial';}\", \"ul{padding:0;}\", \"li{list-style:none;margin:10px 0;}\", \"a{-webkit-text-decoration:none;text-decoration:none;color:blue;}\", \"a:hover{opacity:0.6;}\"]));\n};\n\nexport default ArticleList;","map":null,"metadata":{},"sourceType":"module"}